# %%
import numpy as np
import pandas as pd
import plotly.express as px
import plotly.graph_objects as go

# %%
res = { "absolute-start": 2400652, "main_wakeups": [7600652,7700652,7800652,7900652,8000652,8100652,8200652,8300652,8400652,8500652,8600652,8700652,8800652,8900652,9000652,9100652,9200652,9300652,9400652,9500652,9600652,9700652,9800652,9900652,10000652,10100652,10200652,10300652,10400652,10500652,10600652,10700652,10800652,10900652,11000652,11100652,11200652,11300652,11400652,11500652,11600652,11700652,11800652,11900652,12000652,12100652,12200652,12300652,12400652,12500652], "time-0": [7450805,7500815,7550805,7600815,7650805,7700815,7750805,7800815,7850805,7900815,7950805,8000815,8050805,8100815,8150805,8200815,8250805,8300815,8350805,8400815,8450805,8500815,8550805,8600815,8650805,8700815,8750805,8800815,8850805,8900815,8950805,9000815,9050805,9100815,9150805,9200815,9250805,9300815,9350805,9400815,9450805,9500815,9550805,9600815,9650805,9700815,9750805,9800815,9850805,9900815,9950805,10000815,10050805,10100815,10150805,10200815,10250805,10300815,10350805,10400815,10450805,10500815,10550805,10600815,10650805,10700815,10750805,10800815,10850805,10900815,10950805,11000815,11050805,11100815,11150805,11200815,11250805,11300815,11350805,11400815,11450805,11500815,11550805,11600815,11650805,11700815,11750805,11800815,11850805,11900815,11950805,12000815,12050805,12100815,12150805,12200815,12250805,12300815,12350805,12400815], "time-1": [7450750,7500760,7550750,7600760,7650750,7700760,7750750,7800760,7850750,7900760,7950750,8000760,8050750,8100760,8150750,8200760,8250750,8300760,8350750,8400760,8450750,8500760,8550750,8600760,8650750,8700760,8750750,8800760,8850750,8900760,8950750,9000760,9050750,9100760,9150750,9200760,9250750,9300760,9350750,9400760,9450750,9500760,9550750,9600760,9650750,9700760,9750750,9800760,9850750,9900760,9950750,10000760,10050750,10100760,10150750,10200760,10250750,10300760,10350750,10400760,10450750,10500760,10550750,10600760,10650750,10700760,10750750,10800760,10850750,10900760,10950750,11000760,11050750,11100760,11150750,11200760,11250750,11300760,11350750,11400760,11450750,11500760,11550750,11600760,11650750,11700760,11750750,11800760,11850750,11900760,11950750,12000760,12050750,12100760,12150750,12200760,12250750,12300760,12350750,12400760], "time-2": [7450696,7500706,7550696,7600706,7650696,7700706,7750696,7800706,7850696,7900706,7950696,8000706,8050696,8100706,8150696,8200706,8250696,8300706,8350696,8400706,8450696,8500706,8550696,8600706,8650696,8700706,8750696,8800706,8850696,8900706,8950696,9000706,9050696,9100706,9150696,9200706,9250696,9300706,9350696,9400706,9450696,9500706,9550696,9600706,9650696,9700706,9750696,9800706,9850696,9900706,9950696,10000706,10050696,10100706,10150696,10200706,10250696,10300706,10350696,10400706,10450696,10500706,10550696,10600706,10650696,10700706,10750696,10800706,10850696,10900706,10950696,11000706,11050696,11100706,11150696,11200706,11250696,11300706,11350696,11400706,11450696,11500706,11550696,11600706,11650696,11700706,11750696,11800706,11850696,11900706,11950696,12000706,12050696,12100706,12150696,12200706,12250696,12300706,12350696,12400706], "time-3": [7450642,7500651,7550642,7600651,7650642,7700651,7750642,7800651,7850642,7900651,7950642,8000651,8050642,8100651,8150642,8200651,8250642,8300651,8350642,8400651,8450642,8500651,8550642,8600651,8650642,8700651,8750642,8800651,8850642,8900651,8950642,9000651,9050642,9100651,9150642,9200651,9250642,9300651,9350642,9400651,9450642,9500651,9550642,9600651,9650642,9700651,9750642,9800651,9850642,9900651,9950642,10000651,10050642,10100651,10150642,10200651,10250642,10300651,10350642,10400651,10450642,10500651,10550642,10600651,10650642,10700651,10750642,10800651,10850642,10900651,10950642,11000651,11050642,11100651,11150642,11200651,11250642,11300651,11350642,11400651,11450642,11500651,11550642,11600651,11650642,11700651,11750642,11800651,11850642,11900651,11950642,12000651,12050642,12100651,12150642,12200651,12250642,12300651,12350642,12400651], "time-4": [7450588,7500596,7550588,7600596,7650588,7700596,7750588,7800596,7850588,7900596,7950588,8000596,8050588,8100596,8150588,8200596,8250588,8300596,8350588,8400596,8450588,8500596,8550588,8600596,8650588,8700596,8750588,8800596,8850588,8900596,8950588,9000596,9050588,9100596,9150588,9200596,9250588,9300596,9350588,9400596,9450588,9500596,9550588,9600596,9650588,9700596,9750588,9800596,9850588,9900596,9950588,10000596,10050588,10100596,10150588,10200596,10250588,10300596,10350588,10400596,10450588,10500596,10550588,10600596,10650588,10700596,10750588,10800596,10850588,10900596,10950588,11000596,11050588,11100596,11150588,11200596,11250588,11300596,11350588,11400596,11450588,11500596,11550588,11600596,11650588,11700596,11750588,11800596,11850588,11900596,11950588,12000596,12050588,12100596,12150588,12200596,12250588,12300596,12350588,12400596], "time-5": [7450534,7500541,7550534,7600541,7650534,7700541,7750534,7800541,7850534,7900541,7950534,8000541,8050534,8100541,8150534,8200541,8250534,8300541,8350534,8400541,8450534,8500541,8550534,8600541,8650534,8700541,8750534,8800541,8850534,8900541,8950534,9000541,9050534,9100541,9150534,9200541,9250534,9300541,9350534,9400541,9450534,9500541,9550534,9600541,9650534,9700541,9750534,9800541,9850534,9900541,9950534,10000541,10050534,10100541,10150534,10200541,10250534,10300541,10350534,10400541,10450534,10500541,10550534,10600541,10650534,10700541,10750534,10800541,10850534,10900541,10950534,11000541,11050534,11100541,11150534,11200541,11250534,11300541,11350534,11400541,11450534,11500541,11550534,11600541,11650534,11700541,11750534,11800541,11850534,11900541,11950534,12000541,12050534,12100541,12150534,12200541,12250534,12300541,12350534,12400541], "time-6": [7450480,7500486,7550480,7600486,7650480,7700486,7750480,7800486,7850480,7900486,7950480,8000486,8050480,8100486,8150480,8200486,8250480,8300486,8350480,8400486,8450480,8500486,8550480,8600486,8650480,8700486,8750480,8800486,8850480,8900486,8950480,9000486,9050480,9100486,9150480,9200486,9250480,9300486,9350480,9400486,9450480,9500486,9550480,9600486,9650480,9700486,9750480,9800486,9850480,9900486,9950480,10000486,10050480,10100486,10150480,10200486,10250480,10300486,10350480,10400486,10450480,10500486,10550480,10600486,10650480,10700486,10750480,10800486,10850480,10900486,10950480,11000486,11050480,11100486,11150480,11200486,11250480,11300486,11350480,11400486,11450480,11500486,11550480,11600486,11650480,11700486,11750480,11800486,11850480,11900486,11950480,12000486,12050480,12100486,12150480,12200486,12250480,12300486,12350480,12400486], "time-7": [7450426,7500431,7550426,7600431,7650426,7700431,7750426,7800431,7850426,7900431,7950426,8000431,8050426,8100431,8150426,8200431,8250426,8300431,8350426,8400431,8450426,8500431,8550426,8600431,8650426,8700431,8750426,8800431,8850426,8900431,8950426,9000431,9050426,9100431,9150426,9200431,9250426,9300431,9350426,9400431,9450426,9500431,9550426,9600431,9650426,9700431,9750426,9800431,9850426,9900431,9950426,10000431,10050426,10100431,10150426,10200431,10250426,10300431,10350426,10400431,10450426,10500431,10550426,10600431,10650426,10700431,10750426,10800431,10850426,10900431,10950426,11000431,11050426,11100431,11150426,11200431,11250426,11300431,11350426,11400431,11450426,11500431,11550426,11600431,11650426,11700431,11750426,11800431,11850426,11900431,11950426,12000431,12050426,12100431,12150426,12200431,12250426,12300431,12350426,12400431], "time-8": [7450372,7500376,7550372,7600376,7650372,7700376,7750372,7800376,7850372,7900376,7950372,8000376,8050372,8100376,8150372,8200376,8250372,8300376,8350372,8400376,8450372,8500376,8550372,8600376,8650372,8700376,8750372,8800376,8850372,8900376,8950372,9000376,9050372,9100376,9150372,9200376,9250372,9300376,9350372,9400376,9450372,9500376,9550372,9600376,9650372,9700376,9750372,9800376,9850372,9900376,9950372,10000376,10050372,10100376,10150372,10200376,10250372,10300376,10350372,10400376,10450372,10500376,10550372,10600376,10650372,10700376,10750372,10800376,10850372,10900376,10950372,11000376,11050372,11100376,11150372,11200376,11250372,11300376,11350372,11400376,11450372,11500376,11550372,11600376,11650372,11700376,11750372,11800376,11850372,11900376,11950372,12000376,12050372,12100376,12150372,12200376,12250372,12300376,12350372,12400376], "time-9": [7450318,7500321,7550318,7600321,7650318,7700321,7750318,7800321,7850318,7900321,7950318,8000321,8050318,8100321,8150318,8200321,8250318,8300321,8350318,8400321,8450318,8500321,8550318,8600321,8650318,8700321,8750318,8800321,8850318,8900321,8950318,9000321,9050318,9100321,9150318,9200321,9250318,9300321,9350318,9400321,9450318,9500321,9550318,9600321,9650318,9700321,9750318,9800321,9850318,9900321,9950318,10000321,10050318,10100321,10150318,10200321,10250318,10300321,10350318,10400321,10450318,10500321,10550318,10600321,10650318,10700321,10750318,10800321,10850318,10900321,10950318,11000321,11050318,11100321,11150318,11200321,11250318,11300321,11350318,11400321,11450318,11500321,11550318,11600321,11650318,11700321,11750318,11800321,11850318,11900321,11950318,12000321,12050318,12100321,12150318,12200321,12250318,12300321,12350318,12400321], "time-10": [7450264,7500266,7550264,7600266,7650264,7700266,7750264,7800266,7850264,7900266,7950264,8000266,8050264,8100266,8150264,8200266,8250264,8300266,8350264,8400266,8450264,8500266,8550264,8600266,8650264,8700266,8750264,8800266,8850264,8900266,8950264,9000266,9050264,9100266,9150264,9200266,9250264,9300266,9350264,9400266,9450264,9500266,9550264,9600266,9650264,9700266,9750264,9800266,9850264,9900266,9950264,10000266,10050264,10100266,10150264,10200266,10250264,10300266,10350264,10400266,10450264,10500266,10550264,10600266,10650264,10700266,10750264,10800266,10850264,10900266,10950264,11000266,11050264,11100266,11150264,11200266,11250264,11300266,11350264,11400266,11450264,11500266,11550264,11600266,11650264,11700266,11750264,11800266,11850264,11900266,11950264,12000266,12050264,12100266,12150264,12200266,12250264,12300266,12350264,12400266], "time-11": [7450210,7500211,7550210,7600211,7650210,7700211,7750210,7800211,7850210,7900211,7950210,8000211,8050210,8100211,8150210,8200211,8250210,8300211,8350210,8400211,8450210,8500211,8550210,8600211,8650210,8700211,8750210,8800211,8850210,8900211,8950210,9000211,9050210,9100211,9150210,9200211,9250210,9300211,9350210,9400211,9450210,9500211,9550210,9600211,9650210,9700211,9750210,9800211,9850210,9900211,9950210,10000211,10050210,10100211,10150210,10200211,10250210,10300211,10350210,10400211,10450210,10500211,10550210,10600211,10650210,10700211,10750210,10800211,10850210,10900211,10950210,11000211,11050210,11100211,11150210,11200211,11250210,11300211,11350210,11400211,11450210,11500211,11550210,11600211,11650210,11700211,11750210,11800211,11850210,11900211,11950210,12000211,12050210,12100211,12150210,12200211,12250210,12300211,12350210,12400211], "time-12": [7450156,7500156,7550156,7600156,7650156,7700156,7750156,7800156,7850156,7900156,7950156,8000156,8050156,8100156,8150156,8200156,8250156,8300156,8350156,8400156,8450156,8500156,8550156,8600156,8650156,8700156,8750156,8800156,8850156,8900156,8950156,9000156,9050156,9100156,9150156,9200156,9250156,9300156,9350156,9400156,9450156,9500156,9550156,9600156,9650156,9700156,9750156,9800156,9850156,9900156,9950156,10000156,10050156,10100156,10150156,10200156,10250156,10300156,10350156,10400156,10450156,10500156,10550156,10600156,10650156,10700156,10750156,10800156,10850156,10900156,10950156,11000156,11050156,11100156,11150156,11200156,11250156,11300156,11350156,11400156,11450156,11500156,11550156,11600156,11650156,11700156,11750156,11800156,11850156,11900156,11950156,12000156,12050156,12100156,12150156,12200156,12250156,12300156,12350156,12400156], "time-13": [7450101,7500101,7550101,7600101,7650101,7700101,7750101,7800101,7850101,7900101,7950101,8000101,8050101,8100101,8150101,8200101,8250101,8300101,8350101,8400101,8450101,8500101,8550101,8600101,8650101,8700101,8750101,8800101,8850101,8900101,8950101,9000101,9050101,9100101,9150101,9200101,9250101,9300101,9350101,9400101,9450101,9500101,9550101,9600101,9650101,9700101,9750101,9800101,9850101,9900101,9950101,10000101,10050101,10100101,10150101,10200101,10250101,10300101,10350101,10400101,10450101,10500101,10550101,10600101,10650101,10700101,10750101,10800101,10850101,10900101,10950101,11000101,11050101,11100101,11150101,11200101,11250101,11300101,11350101,11400101,11450101,11500101,11550101,11600101,11650101,11700101,11750101,11800101,11850101,11900101,11950101,12000101,12050101,12100101,12150101,12200101,12250101,12300101,12350101,12400101], "time-14": [7450046,7500046,7550046,7600046,7650046,7700046,7750046,7800046,7850046,7900046,7950046,8000046,8050046,8100046,8150046,8200046,8250046,8300046,8350046,8400046,8450046,8500046,8550046,8600046,8650046,8700046,8750046,8800046,8850046,8900046,8950046,9000046,9050046,9100046,9150046,9200046,9250046,9300046,9350046,9400046,9450046,9500046,9550046,9600046,9650046,9700046,9750046,9800046,9850046,9900046,9950046,10000046,10050046,10100046,10150046,10200046,10250046,10300046,10350046,10400046,10450046,10500046,10550046,10600046,10650046,10700046,10750046,10800046,10850046,10900046,10950046,11000046,11050046,11100046,11150046,11200046,11250046,11300046,11350046,11400046,11450046,11500046,11550046,11600046,11650046,11700046,11750046,11800046,11850046,11900046,11950046,12000046,12050046,12100046,12150046,12200046,12250046,12300046,12350046,12400046], "time-15": [7449991,7499991,7549991,7599991,7649991,7699991,7749991,7799991,7849991,7899991,7949991,7999991,8049991,8099991,8149991,8199991,8249991,8299991,8349991,8399991,8449991,8499991,8549991,8599991,8649991,8699991,8749991,8799991,8849991,8899991,8949991,8999991,9049991,9099991,9149991,9199991,9249991,9299991,9349991,9399991,9449991,9499991,9549991,9599991,9649991,9699991,9749991,9799991,9849991,9899991,9949991,9999991,10049991,10099991,10149991,10199991,10249991,10299991,10349991,10399991,10449991,10499991,10549991,10599991,10649991,10699991,10749991,10799991,10849991,10899991,10949991,10999991,11049991,11099991,11149991,11199991,11249991,11299991,11349991,11399991,11449991,11499991,11549991,11599991,11649991,11699991,11749991,11799991,11849991,11899991,11949991,11999991,12049991,12099991,12149991,12199991,12249991,12299991,12349991,12399991], "time-16": [7449936,7499936,7549936,7599936,7649936,7699936,7749936,7799936,7849936,7899936,7949936,7999936,8049936,8099936,8149936,8199936,8249936,8299936,8349936,8399936,8449936,8499936,8549936,8599936,8649936,8699936,8749936,8799936,8849936,8899936,8949936,8999936,9049936,9099936,9149936,9199936,9249936,9299936,9349936,9399936,9449936,9499936,9549936,9599936,9649936,9699936,9749936,9799936,9849936,9899936,9949936,9999936,10049936,10099936,10149936,10199936,10249936,10299936,10349936,10399936,10449936,10499936,10549936,10599936,10649936,10699936,10749936,10799936,10849936,10899936,10949936,10999936,11049936,11099936,11149936,11199936,11249936,11299936,11349936,11399936,11449936,11499936,11549936,11599936,11649936,11699936,11749936,11799936,11849936,11899936,11949936,11999936,12049936,12099936,12149936,12199936,12249936,12299936,12349936,12399936], "time-17": [7449881,7499881,7549881,7599881,7649881,7699881,7749881,7799881,7849881,7899881,7949881,7999881,8049881,8099881,8149881,8199881,8249881,8299881,8349881,8399881,8449881,8499881,8549881,8599881,8649881,8699881,8749881,8799881,8849881,8899881,8949881,8999881,9049881,9099881,9149881,9199881,9249881,9299881,9349881,9399881,9449881,9499881,9549881,9599881,9649881,9699881,9749881,9799881,9849881,9899881,9949881,9999881,10049881,10099881,10149881,10199881,10249881,10299881,10349881,10399881,10449881,10499881,10549881,10599881,10649881,10699881,10749881,10799881,10849881,10899881,10949881,10999881,11049881,11099881,11149881,11199881,11249881,11299881,11349881,11399881,11449881,11499881,11549881,11599881,11649881,11699881,11749881,11799881,11849881,11899881,11949881,11999881,12049881,12099881,12149881,12199881,12249881,12299881,12349881,12399881], "time-18": [7449826,7499826,7549826,7599826,7649826,7699826,7749826,7799826,7849826,7899826,7949826,7999826,8049826,8099826,8149826,8199826,8249826,8299826,8349826,8399826,8449826,8499826,8549826,8599826,8649826,8699826,8749826,8799826,8849826,8899826,8949826,8999826,9049826,9099826,9149826,9199826,9249826,9299826,9349826,9399826,9449826,9499826,9549826,9599826,9649826,9699826,9749826,9799826,9849826,9899826,9949826,9999826,10049826,10099826,10149826,10199826,10249826,10299826,10349826,10399826,10449826,10499826,10549826,10599826,10649826,10699826,10749826,10799826,10849826,10899826,10949826,10999826,11049826,11099826,11149826,11199826,11249826,11299826,11349826,11399826,11449826,11499826,11549826,11599826,11649826,11699826,11749826,11799826,11849826,11899826,11949826,11999826,12049826,12099826,12149826,12199826,12249826,12299826,12349826,12399826], "time-19": [7449771,7499771,7549771,7599771,7649771,7699771,7749771,7799771,7849771,7899771,7949771,7999771,8049771,8099771,8149771,8199771,8249771,8299771,8349771,8399771,8449771,8499771,8549771,8599771,8649771,8699771,8749771,8799771,8849771,8899771,8949771,8999771,9049771,9099771,9149771,9199771,9249771,9299771,9349771,9399771,9449771,9499771,9549771,9599771,9649771,9699771,9749771,9799771,9849771,9899771,9949771,9999771,10049771,10099771,10149771,10199771,10249771,10299771,10349771,10399771,10449771,10499771,10549771,10599771,10649771,10699771,10749771,10799771,10849771,10899771,10949771,10999771,11049771,11099771,11149771,11199771,11249771,11299771,11349771,11399771,11449771,11499771,11549771,11599771,11649771,11699771,11749771,11799771,11849771,11899771,11949771,11999771,12049771,12099771,12149771,12199771,12249771,12299771,12349771,12399771], "time-20": [7449716,7499716,7549716,7599716,7649716,7699716,7749716,7799716,7849716,7899716,7949716,7999716,8049716,8099716,8149716,8199716,8249716,8299716,8349716,8399716,8449716,8499716,8549716,8599716,8649716,8699716,8749716,8799716,8849716,8899716,8949716,8999716,9049716,9099716,9149716,9199716,9249716,9299716,9349716,9399716,9449716,9499716,9549716,9599716,9649716,9699716,9749716,9799716,9849716,9899716,9949716,9999716,10049716,10099716,10149716,10199716,10249716,10299716,10349716,10399716,10449716,10499716,10549716,10599716,10649716,10699716,10749716,10799716,10849716,10899716,10949716,10999716,11049716,11099716,11149716,11199716,11249716,11299716,11349716,11399716,11449716,11499716,11549716,11599716,11649716,11699716,11749716,11799716,11849716,11899716,11949716,11999716,12049716,12099716,12149716,12199716,12249716,12299716,12349716,12399716], "time-21": [7449661,7499661,7549661,7599661,7649661,7699661,7749661,7799661,7849661,7899661,7949661,7999661,8049661,8099661,8149661,8199661,8249661,8299661,8349661,8399661,8449661,8499661,8549661,8599661,8649661,8699661,8749661,8799661,8849661,8899661,8949661,8999661,9049661,9099661,9149661,9199661,9249661,9299661,9349661,9399661,9449661,9499661,9549661,9599661,9649661,9699661,9749661,9799661,9849661,9899661,9949661,9999661,10049661,10099661,10149661,10199661,10249661,10299661,10349661,10399661,10449661,10499661,10549661,10599661,10649661,10699661,10749661,10799661,10849661,10899661,10949661,10999661,11049661,11099661,11149661,11199661,11249661,11299661,11349661,11399661,11449661,11499661,11549661,11599661,11649661,11699661,11749661,11799661,11849661,11899661,11949661,11999661,12049661,12099661,12149661,12199661,12249661,12299661,12349661,12399661], "time-22": [7449606,7499606,7549606,7599606,7649606,7699606,7749606,7799606,7849606,7899606,7949606,7999606,8049606,8099606,8149606,8199606,8249606,8299606,8349606,8399606,8449606,8499606,8549606,8599606,8649606,8699606,8749606,8799606,8849606,8899606,8949606,8999606,9049606,9099606,9149606,9199606,9249606,9299606,9349606,9399606,9449606,9499606,9549606,9599606,9649606,9699606,9749606,9799606,9849606,9899606,9949606,9999606,10049606,10099606,10149606,10199606,10249606,10299606,10349606,10399606,10449606,10499606,10549606,10599606,10649606,10699606,10749606,10799606,10849606,10899606,10949606,10999606,11049606,11099606,11149606,11199606,11249606,11299606,11349606,11399606,11449606,11499606,11549606,11599606,11649606,11699606,11749606,11799606,11849606,11899606,11949606,11999606,12049606,12099606,12149606,12199606,12249606,12299606,12349606,12399606], "time-23": [7449551,7499551,7549551,7599551,7649551,7699551,7749551,7799551,7849551,7899551,7949551,7999551,8049551,8099551,8149551,8199551,8249551,8299551,8349551,8399551,8449551,8499551,8549551,8599551,8649551,8699551,8749551,8799551,8849551,8899551,8949551,8999551,9049551,9099551,9149551,9199551,9249551,9299551,9349551,9399551,9449551,9499551,9549551,9599551,9649551,9699551,9749551,9799551,9849551,9899551,9949551,9999551,10049551,10099551,10149551,10199551,10249551,10299551,10349551,10399551,10449551,10499551,10549551,10599551,10649551,10699551,10749551,10799551,10849551,10899551,10949551,10999551,11049551,11099551,11149551,11199551,11249551,11299551,11349551,11399551,11449551,11499551,11549551,11599551,11649551,11699551,11749551,11799551,11849551,11899551,11949551,11999551,12049551,12099551,12149551,12199551,12249551,12299551,12349551,12399551], "time-24": [7449496,7499496,7549496,7599496,7649496,7699496,7749496,7799496,7849496,7899496,7949496,7999496,8049496,8099496,8149496,8199496,8249496,8299496,8349496,8399496,8449496,8499496,8549496,8599496,8649496,8699496,8749496,8799496,8849496,8899496,8949496,8999496,9049496,9099496,9149496,9199496,9249496,9299496,9349496,9399496,9449496,9499496,9549496,9599496,9649496,9699496,9749496,9799496,9849496,9899496,9949496,9999496,10049496,10099496,10149496,10199496,10249496,10299496,10349496,10399496,10449496,10499496,10549496,10599496,10649496,10699496,10749496,10799496,10849496,10899496,10949496,10999496,11049496,11099496,11149496,11199496,11249496,11299496,11349496,11399496,11449496,11499496,11549496,11599496,11649496,11699496,11749496,11799496,11849496,11899496,11949496,11999496,12049496,12099496,12149496,12199496,12249496,12299496,12349496,12399496] }

# %%
df = pd.DataFrame(
    {k: v for k, v in res.items() if k not in ["absolute-start", "main_wakeups"]}
)
df["id"] = df.index
df = pd.wide_to_long(df, stubnames=["time"], i="id", j="timer", sep="-")
df['time'] = [t for t in df['time']]
df["start"] = [res["absolute-start"]] * len(df.time)
df["diff_from_start"] = df["time"] - df["start"]
df["diff_from_target"] = df["diff_from_start"] % 50000
df = df.reset_index()

fig = px.strip(df, y="diff_from_start", color="timer", hover_data=['diff_from_target', 'diff_from_start'])

fig.update_layout(
    title="Timer Trigger Records",
    yaxis_title="Diff. from start point [us]",
    xaxis_title="Timer",
)

fig.update_traces(marker_size=12)


dfm = pd.DataFrame({"time": res["main_wakeups"]})
dfm['time'] = [t for t in dfm['time']]
dfm["diff_from_start"] = [t - df["start"][0] for t in dfm["time"]]
dfm["diff_from_target"] = dfm["diff_from_start"] % 100000

fig.add_trace(
    go.Box(
        y=dfm["diff_from_start"],
        boxpoints="all",
        offsetgroup=-1,
        alignmentgroup=True,
        legendgroup=-1,
        name="main",
        x0=" ",
        xaxis="x",
        y0=" ",
        yaxis="y",
        line_width=0,
        fillcolor="rgba(255,255,255,0)",
        hoveron="points",
        customdata=np.array([[dft, dfs] for dft, dfs in zip(dfm['diff_from_target'], dfm['diff_from_start'])]),
        hovertemplate="main<br>time=%{y}<br>diff_from_target=%{customdata[0]}<br>diff_from_start=%{customdata[1]}<extra></extra>",
        marker_size=12,
    )
)
fig.write_html("/home/pokgak/git/ba-plotscripts/docs/bgtimer_analysis/bgtimer_collision.html")
